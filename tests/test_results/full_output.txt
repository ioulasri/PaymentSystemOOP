FULL TEST OUTPUT - 2025-11-23 15:45:22
============================================================

============================= test session starts ==============================
platform darwin -- Python 3.14.0, pytest-9.0.1, pluggy-1.6.0 -- /Users/imadoulasri/Oracle_preparation/OOP/Payment system edition/.venv/bin/python
cachedir: .pytest_cache
rootdir: /Users/imadoulasri/Oracle_preparation/OOP/Payment system edition
configfile: pyproject.toml
plugins: anyio-4.11.0, xdist-3.8.0, cov-7.0.0
collecting ... collected 308 items

tests/unit/test_abc.py::TestPayment::test_abstract_instantiation_raises PASSED [  0%]
tests/unit/test_abc.py::TestUser::test_abstract_instantiation_raises PASSED [  0%]
tests/unit/test_credit_card.py::TestCardNumberValidation::test_invalid_card_number_empty PASSED [  0%]
tests/unit/test_credit_card.py::TestCardNumberValidation::test_invalid_card_number_too_long PASSED [  1%]
tests/unit/test_credit_card.py::TestCardNumberValidation::test_invalid_card_number_too_short PASSED [  1%]
tests/unit/test_credit_card.py::TestCardNumberValidation::test_invalid_card_number_with_letters PASSED [  1%]
tests/unit/test_credit_card.py::TestCardNumberValidation::test_invalid_card_number_with_spaces PASSED [  2%]
tests/unit/test_credit_card.py::TestCardNumberValidation::test_valid_card_number_16_digits PASSED [  2%]
tests/unit/test_credit_card.py::TestExpirationDateValidation::test_invalid_expiration_date_format_letters PASSED [  2%]
tests/unit/test_credit_card.py::TestExpirationDateValidation::test_invalid_expiration_date_format_no_separator PASSED [  3%]
tests/unit/test_credit_card.py::TestExpirationDateValidation::test_invalid_expiration_date_format_slash PASSED [  3%]
tests/unit/test_credit_card.py::TestExpirationDateValidation::test_invalid_expiration_date_format_wrong_length PASSED [  3%]
tests/unit/test_credit_card.py::TestExpirationDateValidation::test_invalid_past_expiration_date PASSED [  4%]
tests/unit/test_credit_card.py::TestExpirationDateValidation::test_valid_expiration_date_format PASSED [  4%]
tests/unit/test_credit_card.py::TestExpirationDateValidation::test_valid_future_expiration_date PASSED [  4%]
tests/unit/test_credit_card.py::TestCVVValidation::test_invalid_cvv_empty PASSED [  5%]
tests/unit/test_credit_card.py::TestCVVValidation::test_invalid_cvv_too_long PASSED [  5%]
tests/unit/test_credit_card.py::TestCVVValidation::test_invalid_cvv_too_short PASSED [  5%]
tests/unit/test_credit_card.py::TestCVVValidation::test_invalid_cvv_with_letters PASSED [  6%]
tests/unit/test_credit_card.py::TestCVVValidation::test_valid_cvv_four_digits PASSED [  6%]
tests/unit/test_credit_card.py::TestCVVValidation::test_valid_cvv_three_digits PASSED [  6%]
tests/unit/test_credit_card.py::TestValidateMethod::test_validate_all_valid_data PASSED [  7%]
tests/unit/test_credit_card.py::TestValidateMethod::test_validate_empty_card_holder PASSED [  7%]
tests/unit/test_credit_card.py::TestValidateMethod::test_validate_expired_card PASSED [  7%]
tests/unit/test_credit_card.py::TestValidateMethod::test_validate_invalid_card_number PASSED [  8%]
tests/unit/test_credit_card.py::TestValidateMethod::test_validate_invalid_cvv PASSED [  8%]
tests/unit/test_credit_card.py::TestValidateMethod::test_validate_invalid_expiration_format PASSED [  8%]
tests/unit/test_credit_card.py::TestBalanceProperty::test_balance_getter_default_value PASSED [  9%]
tests/unit/test_credit_card.py::TestBalanceProperty::test_balance_setter_float_value PASSED [  9%]
tests/unit/test_credit_card.py::TestBalanceProperty::test_balance_setter_negative_value PASSED [  9%]
tests/unit/test_credit_card.py::TestBalanceProperty::test_balance_setter_valid_value PASSED [ 10%]
tests/unit/test_credit_card.py::TestBalanceProperty::test_balance_setter_zero_value PASSED [ 10%]
tests/unit/test_credit_card.py::TestCardholderProperty::test_cardholder_getter_default_value PASSED [ 10%]
tests/unit/test_credit_card.py::TestCardholderProperty::test_cardholder_setter_invalid_no_lastname PASSED [ 11%]
tests/unit/test_credit_card.py::TestCardholderProperty::test_cardholder_setter_invalid_no_prefix PASSED [ 11%]
tests/unit/test_credit_card.py::TestCardholderProperty::test_cardholder_setter_invalid_single_word PASSED [ 11%]
tests/unit/test_credit_card.py::TestCardholderProperty::test_cardholder_setter_valid_mr PASSED [ 12%]
tests/unit/test_credit_card.py::TestCardholderProperty::test_cardholder_setter_valid_mrs PASSED [ 12%]
tests/unit/test_credit_card.py::TestCardholderProperty::test_cardholder_setter_valid_ms PASSED [ 12%]
tests/unit/test_credit_card.py::TestCardnumberProperty::test_cardnumber_getter_default_value PASSED [ 12%]
tests/unit/test_credit_card.py::TestCardnumberProperty::test_cardnumber_setter_different_valid_number PASSED [ 13%]
tests/unit/test_credit_card.py::TestCardnumberProperty::test_cardnumber_setter_invalid_empty PASSED [ 13%]
tests/unit/test_credit_card.py::TestCardnumberProperty::test_cardnumber_setter_invalid_too_long PASSED [ 13%]
tests/unit/test_credit_card.py::TestCardnumberProperty::test_cardnumber_setter_invalid_too_short PASSED [ 14%]
tests/unit/test_credit_card.py::TestCardnumberProperty::test_cardnumber_setter_invalid_with_letters PASSED [ 14%]
tests/unit/test_credit_card.py::TestCardnumberProperty::test_cardnumber_setter_invalid_with_spaces PASSED [ 14%]
tests/unit/test_credit_card.py::TestCardnumberProperty::test_cardnumber_setter_valid_16_digits PASSED [ 15%]
tests/unit/test_credit_card.py::TestExpirationdateProperty::test_expirationdate_getter_default_value PASSED [ 15%]
tests/unit/test_credit_card.py::TestExpirationdateProperty::test_expirationdate_setter_invalid_empty PASSED [ 15%]
tests/unit/test_credit_card.py::TestExpirationdateProperty::test_expirationdate_setter_invalid_format_letters PASSED [ 16%]
tests/unit/test_credit_card.py::TestExpirationdateProperty::test_expirationdate_setter_invalid_format_no_separator PASSED [ 16%]
tests/unit/test_credit_card.py::TestExpirationdateProperty::test_expirationdate_setter_invalid_format_slash PASSED [ 16%]
tests/unit/test_credit_card.py::TestExpirationdateProperty::test_expirationdate_setter_invalid_past_date PASSED [ 17%]
tests/unit/test_credit_card.py::TestExpirationdateProperty::test_expirationdate_setter_valid_different_date PASSED [ 17%]
tests/unit/test_credit_card.py::TestExpirationdateProperty::test_expirationdate_setter_valid_future_date PASSED [ 17%]
tests/unit/test_credit_card.py::TestCVVProperty::test_cvv_getter_default_value PASSED [ 18%]
tests/unit/test_credit_card.py::TestCVVProperty::test_cvv_setter_different_valid_cvv PASSED [ 18%]
tests/unit/test_credit_card.py::TestCVVProperty::test_cvv_setter_invalid_empty PASSED [ 18%]
tests/unit/test_credit_card.py::TestCVVProperty::test_cvv_setter_invalid_too_long PASSED [ 19%]
tests/unit/test_credit_card.py::TestCVVProperty::test_cvv_setter_invalid_too_short PASSED [ 19%]
tests/unit/test_credit_card.py::TestCVVProperty::test_cvv_setter_invalid_with_letters PASSED [ 19%]
tests/unit/test_credit_card.py::TestCVVProperty::test_cvv_setter_valid_four_digits PASSED [ 20%]
tests/unit/test_credit_card.py::TestCVVProperty::test_cvv_setter_valid_three_digits PASSED [ 20%]
tests/unit/test_crypto.py::TestCryptoPaymentInitialization::test_initialization PASSED [ 20%]
tests/unit/test_crypto.py::TestCryptoPaymentBalanceProperty::test_balance_getter_default PASSED [ 21%]
tests/unit/test_crypto.py::TestCryptoPaymentBalanceProperty::test_balance_setter_positive PASSED [ 21%]
tests/unit/test_crypto.py::TestCryptoPaymentBalanceProperty::test_balance_setter_zero PASSED [ 21%]
tests/unit/test_crypto.py::TestCryptoPaymentBalanceProperty::test_balance_setter_negative_raises_error PASSED [ 22%]
tests/unit/test_crypto.py::TestCryptoPaymentBalanceProperty::test_balance_setter_large_value PASSED [ 22%]
tests/unit/test_crypto.py::TestCryptoPaymentWalletAddressProperty::test_wallet_address_getter_default PASSED [ 22%]
tests/unit/test_crypto.py::TestCryptoPaymentWalletAddressProperty::test_wallet_address_setter PASSED [ 23%]
tests/unit/test_crypto.py::TestCryptoPaymentWalletAddressProperty::test_wallet_address_setter_overwrite PASSED [ 23%]
tests/unit/test_crypto.py::TestCryptoPaymentNetworkProperty::test_network_getter_default PASSED [ 23%]
tests/unit/test_crypto.py::TestCryptoPaymentNetworkProperty::test_network_setter_bitcoin PASSED [ 24%]
tests/unit/test_crypto.py::TestCryptoPaymentNetworkProperty::test_network_setter_ethereum PASSED [ 24%]
tests/unit/test_crypto.py::TestCryptoPaymentNetworkProperty::test_network_setter_overwrite PASSED [ 24%]
tests/unit/test_crypto.py::TestCryptoPaymentValidation::test_validate_missing_wallet_address PASSED [ 25%]
tests/unit/test_crypto.py::TestCryptoPaymentValidation::test_validate_missing_network PASSED [ 25%]
tests/unit/test_crypto.py::TestCryptoPaymentValidation::test_validate_both_missing PASSED [ 25%]
tests/unit/test_crypto.py::TestCryptoPaymentValidation::test_validate_invalid_bitcoin_address PASSED [ 25%]
tests/unit/test_crypto.py::TestCryptoPaymentValidation::test_validate_invalid_ethereum_address PASSED [ 26%]
tests/unit/test_crypto.py::TestCryptoPaymentValidation::test_validate_valid_bitcoin_legacy PASSED [ 26%]
tests/unit/test_crypto.py::TestCryptoPaymentValidation::test_validate_valid_bitcoin_segwit PASSED [ 26%]
tests/unit/test_crypto.py::TestCryptoPaymentValidation::test_validate_valid_bitcoin_bech32 PASSED [ 27%]
tests/unit/test_crypto.py::TestCryptoPaymentValidation::test_validate_valid_ethereum PASSED [ 27%]
tests/unit/test_crypto.py::TestCryptoPaymentValidation::test_validate_unsupported_network PASSED [ 27%]
tests/unit/test_crypto.py::TestCryptoPaymentValidation::test_validate_btc_alias PASSED [ 28%]
tests/unit/test_crypto.py::TestCryptoPaymentValidation::test_validate_eth_alias PASSED [ 28%]
tests/unit/test_crypto.py::TestCryptoPaymentExecution::test_execute_success PASSED [ 28%]
tests/unit/test_crypto.py::TestCryptoPaymentExecution::test_execute_updates_balance PASSED [ 29%]
tests/unit/test_crypto.py::TestCryptoPaymentExecution::test_execute_negative_amount_raises_error PASSED [ 29%]
tests/unit/test_crypto.py::TestCryptoPaymentExecution::test_execute_zero_amount_raises_error PASSED [ 29%]
tests/unit/test_crypto.py::TestCryptoPaymentExecution::test_execute_insufficient_balance_raises_error PASSED [ 30%]
tests/unit/test_crypto.py::TestCryptoPaymentExecution::test_execute_without_validation_raises_error PASSED [ 30%]
tests/unit/test_crypto.py::TestCryptoPaymentExecution::test_execute_sets_status_completed PASSED [ 30%]
tests/unit/test_crypto.py::TestCryptoPaymentExecution::test_execute_sets_transaction_id PASSED [ 31%]
tests/unit/test_crypto.py::TestCryptoPaymentExecution::test_execute_sets_timestamp PASSED [ 31%]
tests/unit/test_crypto.py::TestCryptoPaymentEstimateFees::test_estimate_fees_returns_one_percent PASSED [ 31%]
tests/unit/test_crypto.py::TestCryptoPaymentEstimateFees::test_estimate_fees_small_amount PASSED [ 32%]
tests/unit/test_crypto.py::TestCryptoPaymentEstimateFees::test_estimate_fees_large_amount PASSED [ 32%]
tests/unit/test_crypto.py::TestCryptoPaymentEstimateFees::test_estimate_fees_zero PASSED [ 32%]
tests/unit/test_crypto.py::TestCryptoPaymentGenerateReceipt::test_generate_receipt_success PASSED [ 33%]
tests/unit/test_crypto.py::TestCryptoPaymentGenerateReceipt::test_generate_receipt_contains_all_fields PASSED [ 33%]
tests/unit/test_crypto.py::TestCryptoPaymentTrackTransaction::test_track_transaction_returns_info PASSED [ 33%]
tests/unit/test_crypto.py::TestCryptoPaymentTrackTransaction::test_track_transaction_different_ids PASSED [ 34%]
tests/unit/test_crypto.py::TestCryptoPaymentRefund::test_refund_returns_info PASSED [ 34%]
tests/unit/test_crypto.py::TestCryptoPaymentRefund::test_refund_different_amounts PASSED [ 34%]
tests/unit/test_crypto.py::TestCryptoPaymentConvertCurrency::test_convert_currency_returns_converted_amount PASSED [ 35%]
tests/unit/test_crypto.py::TestCryptoPaymentConvertCurrency::test_convert_currency_different_amounts PASSED [ 35%]
tests/unit/test_crypto.py::TestCryptoPaymentSchedulePayment::test_schedule_payment_returns_info PASSED [ 35%]
tests/unit/test_crypto.py::TestCryptoPaymentSchedulePayment::test_schedule_payment_unique_ids PASSED [ 36%]
tests/unit/test_crypto.py::TestCryptoPaymentApplyDiscount::test_apply_discount_reduces_amount PASSED [ 36%]
tests/unit/test_crypto.py::TestCryptoPaymentApplyDiscount::test_apply_discount_minimum_zero PASSED [ 36%]
tests/unit/test_crypto.py::TestCryptoPaymentApplyDiscount::test_apply_discount_exact_discount PASSED [ 37%]
tests/unit/test_crypto.py::TestCryptoPaymentCalculateTax::test_calculate_tax_returns_tax_amount PASSED [ 37%]
tests/unit/test_crypto.py::TestCryptoPaymentCalculateTax::test_calculate_tax_different_rates PASSED [ 37%]
tests/unit/test_crypto.py::TestCryptoPaymentCalculateTax::test_calculate_tax_zero_rate PASSED [ 37%]
tests/unit/test_crypto.py::TestCryptoPaymentVerifyIdentity::test_verify_identity_returns_true PASSED [ 38%]
tests/unit/test_crypto.py::TestCryptoPaymentVerifyIdentity::test_verify_identity_different_users PASSED [ 38%]
tests/unit/test_crypto.py::TestCryptoPaymentBankAccountManagement::test_link_bank_account_returns_true PASSED [ 38%]
tests/unit/test_crypto.py::TestCryptoPaymentBankAccountManagement::test_unlink_bank_account_returns_true PASSED [ 39%]
tests/unit/test_crypto.py::TestCryptoPaymentBankAccountManagement::test_get_linked_bank_accounts_returns_list PASSED [ 39%]
tests/unit/test_crypto.py::TestCryptoPaymentIntegration::test_full_payment_workflow PASSED [ 39%]
tests/unit/test_crypto.py::TestCryptoPaymentIntegration::test_ethereum_payment_workflow PASSED [ 40%]
tests/unit/test_order.py::TestOrderInitialization::test_created_at_timestamp_set PASSED [ 40%]
tests/unit/test_order.py::TestOrderInitialization::test_initial_items_list_empty PASSED [ 40%]
tests/unit/test_order.py::TestOrderInitialization::test_initial_status_pending PASSED [ 41%]
tests/unit/test_order.py::TestOrderInitialization::test_initial_total_amount_zero PASSED [ 41%]
tests/unit/test_order.py::TestOrderInitialization::test_order_creation_with_customer PASSED [ 41%]
tests/unit/test_order.py::TestOrderInitialization::test_order_id_generated_automatically PASSED [ 42%]
tests/unit/test_order.py::TestOrderInitialization::test_order_id_is_unique PASSED [ 42%]
tests/unit/test_order.py::TestOrderInitialization::test_payment_method_initially_empty PASSED [ 42%]
tests/unit/test_order.py::TestOrderInitialization::test_transaction_id_initially_empty PASSED [ 43%]
tests/unit/test_order.py::TestOrderStatusProperty::test_invalid_status_case_sensitive PASSED [ 43%]
tests/unit/test_order.py::TestOrderStatusProperty::test_invalid_status_empty_string PASSED [ 43%]
tests/unit/test_order.py::TestOrderStatusProperty::test_invalid_status_raises_error PASSED [ 44%]
tests/unit/test_order.py::TestOrderStatusProperty::test_status_transition_from_pending_to_shipped PASSED [ 44%]
tests/unit/test_order.py::TestOrderStatusProperty::test_valid_status_cancelled PASSED [ 44%]
tests/unit/test_order.py::TestOrderStatusProperty::test_valid_status_confirmed PASSED [ 45%]
tests/unit/test_order.py::TestOrderStatusProperty::test_valid_status_delivered PASSED [ 45%]
tests/unit/test_order.py::TestOrderStatusProperty::test_valid_status_pending PASSED [ 45%]
tests/unit/test_order.py::TestOrderStatusProperty::test_valid_status_processing PASSED [ 46%]
tests/unit/test_order.py::TestOrderStatusProperty::test_valid_status_shipped PASSED [ 46%]
tests/unit/test_order.py::TestAddItemMethod::test_add_invalid_item_type_raises_error PASSED [ 46%]
tests/unit/test_order.py::TestAddItemMethod::test_add_item_to_cancelled_order_raises_error PASSED [ 47%]
tests/unit/test_order.py::TestAddItemMethod::test_add_item_to_confirmed_order_allowed PASSED [ 47%]
tests/unit/test_order.py::TestAddItemMethod::test_add_item_to_delivered_order_raises_error PASSED [ 47%]
tests/unit/test_order.py::TestAddItemMethod::test_add_item_to_pending_order_allowed PASSED [ 48%]
tests/unit/test_order.py::TestAddItemMethod::test_add_item_to_processing_order_allowed PASSED [ 48%]
tests/unit/test_order.py::TestAddItemMethod::test_add_item_to_shipped_order_raises_error PASSED [ 48%]
tests/unit/test_order.py::TestAddItemMethod::test_add_item_updates_total PASSED [ 49%]
tests/unit/test_order.py::TestAddItemMethod::test_add_item_with_discount_updates_total PASSED [ 49%]
tests/unit/test_order.py::TestAddItemMethod::test_add_item_with_negative_quantity_raises_error PASSED [ 49%]
tests/unit/test_order.py::TestAddItemMethod::test_add_item_with_quantity PASSED [ 50%]
tests/unit/test_order.py::TestAddItemMethod::test_add_item_with_quantity_and_discount PASSED [ 50%]
tests/unit/test_order.py::TestAddItemMethod::test_add_item_with_zero_quantity_raises_error PASSED [ 50%]
tests/unit/test_order.py::TestAddItemMethod::test_add_item_with_zero_stock_raises_error PASSED [ 50%]
tests/unit/test_order.py::TestAddItemMethod::test_add_multiple_items PASSED [ 51%]
tests/unit/test_order.py::TestAddItemMethod::test_add_single_item PASSED [ 51%]
tests/unit/test_order.py::TestValidItemMethod::test_dict_raises_error PASSED [ 51%]
tests/unit/test_order.py::TestValidItemMethod::test_invalid_item_type_raises_error PASSED [ 52%]
tests/unit/test_order.py::TestValidItemMethod::test_item_with_zero_stock_raises_error PASSED [ 52%]
tests/unit/test_order.py::TestValidItemMethod::test_list_raises_error PASSED [ 52%]
tests/unit/test_order.py::TestValidItemMethod::test_none_raises_error PASSED [ 53%]
tests/unit/test_order.py::TestValidItemMethod::test_valid_item_returns_true PASSED [ 53%]
tests/unit/test_order.py::TestRemoveItemMethod::test_remove_all_items_makes_order_empty PASSED [ 53%]
tests/unit/test_order.py::TestRemoveItemMethod::test_remove_existing_item_returns_true PASSED [ 54%]
tests/unit/test_order.py::TestRemoveItemMethod::test_remove_from_empty_order_returns_false PASSED [ 54%]
tests/unit/test_order.py::TestRemoveItemMethod::test_remove_item_by_id_matching PASSED [ 54%]
tests/unit/test_order.py::TestRemoveItemMethod::test_remove_item_removes_from_list PASSED [ 55%]
tests/unit/test_order.py::TestRemoveItemMethod::test_remove_item_updates_total PASSED [ 55%]
tests/unit/test_order.py::TestRemoveItemMethod::test_remove_item_with_discount_updates_total PASSED [ 55%]
tests/unit/test_order.py::TestRemoveItemMethod::test_remove_item_with_quantity PASSED [ 56%]
tests/unit/test_order.py::TestRemoveItemMethod::test_remove_item_with_quantity_and_discount PASSED [ 56%]
tests/unit/test_order.py::TestRemoveItemMethod::test_remove_nonexistent_item_returns_false PASSED [ 56%]
tests/unit/test_order.py::TestCalculateTotalMethod::test_calculate_total_empty_order PASSED [ 57%]
tests/unit/test_order.py::TestCalculateTotalMethod::test_calculate_total_multiple_items PASSED [ 57%]
tests/unit/test_order.py::TestCalculateTotalMethod::test_calculate_total_returns_float PASSED [ 57%]
tests/unit/test_order.py::TestCalculateTotalMethod::test_calculate_total_single_item PASSED [ 58%]
tests/unit/test_order.py::TestCalculateTotalMethod::test_calculate_total_updates_total_amount_attribute PASSED [ 58%]
tests/unit/test_order.py::TestCalculateTotalMethod::test_calculate_total_with_discounts PASSED [ 58%]
tests/unit/test_order.py::TestCalculateTotalMethod::test_calculate_total_with_quantities PASSED [ 59%]
tests/unit/test_order.py::TestCalculateTotalMethod::test_calculate_total_with_quantities_and_discounts PASSED [ 59%]
tests/unit/test_order.py::TestUtilityMethods::test_get_item_count_after_removal PASSED [ 59%]
tests/unit/test_order.py::TestUtilityMethods::test_get_item_count_multiple_items PASSED [ 60%]
tests/unit/test_order.py::TestUtilityMethods::test_get_item_count_single_item PASSED [ 60%]
tests/unit/test_order.py::TestUtilityMethods::test_get_item_count_zero_for_empty_order PASSED [ 60%]
tests/unit/test_order.py::TestUtilityMethods::test_is_empty_false_after_adding_item PASSED [ 61%]
tests/unit/test_order.py::TestUtilityMethods::test_is_empty_true_after_removing_all_items PASSED [ 61%]
tests/unit/test_order.py::TestUtilityMethods::test_is_empty_true_for_new_order PASSED [ 61%]
tests/unit/test_order.py::TestStringRepresentations::test_repr_contains_customer_name PASSED [ 62%]
tests/unit/test_order.py::TestStringRepresentations::test_repr_contains_item_count PASSED [ 62%]
tests/unit/test_order.py::TestStringRepresentations::test_repr_contains_order_id PASSED [ 62%]
tests/unit/test_order.py::TestStringRepresentations::test_repr_contains_total PASSED [ 62%]
tests/unit/test_order.py::TestStringRepresentations::test_repr_format PASSED [ 63%]
tests/unit/test_order.py::TestStringRepresentations::test_str_contains_item_count PASSED [ 63%]
tests/unit/test_order.py::TestStringRepresentations::test_str_contains_order_id PASSED [ 63%]
tests/unit/test_order.py::TestStringRepresentations::test_str_contains_total_with_dollar_sign PASSED [ 64%]
tests/unit/test_order.py::TestStringRepresentations::test_str_format_user_friendly PASSED [ 64%]
tests/unit/test_order.py::TestOrderIntegration::test_complete_order_workflow PASSED [ 64%]
tests/unit/test_order.py::TestOrderIntegration::test_order_state_consistency_after_operations PASSED [ 65%]
tests/unit/test_order.py::TestOrderIntegration::test_order_with_mixed_items_and_recalculation PASSED [ 65%]
tests/unit/test_payment_factory.py::TestSupportedTypes::test_supported_types_contains_credit_card PASSED [ 65%]
tests/unit/test_payment_factory.py::TestSupportedTypes::test_supported_types_contains_crypto PASSED [ 66%]
tests/unit/test_payment_factory.py::TestSupportedTypes::test_supported_types_contains_paypal PASSED [ 66%]
tests/unit/test_payment_factory.py::TestSupportedTypes::test_supported_types_count PASSED [ 66%]
tests/unit/test_payment_factory.py::TestCreateCreditCard::test_create_credit_card_with_invalid_card_number PASSED [ 67%]
tests/unit/test_payment_factory.py::TestCreateCreditCard::test_create_credit_card_with_invalid_cvv PASSED [ 67%]
tests/unit/test_payment_factory.py::TestCreateCreditCard::test_create_credit_card_with_invalid_expiration_date PASSED [ 67%]
tests/unit/test_payment_factory.py::TestCreateCreditCard::test_create_credit_card_with_negative_balance PASSED [ 68%]
tests/unit/test_payment_factory.py::TestCreateCreditCard::test_create_credit_card_with_partial_params PASSED [ 68%]
tests/unit/test_payment_factory.py::TestCreateCreditCard::test_create_credit_card_with_valid_params PASSED [ 68%]
tests/unit/test_payment_factory.py::TestCreateCreditCard::test_create_credit_card_without_balance PASSED [ 69%]
tests/unit/test_payment_factory.py::TestCreatePayPal::test_create_paypal_unverified_account PASSED [ 69%]
tests/unit/test_payment_factory.py::TestCreatePayPal::test_create_paypal_with_invalid_email PASSED [ 69%]
tests/unit/test_payment_factory.py::TestCreatePayPal::test_create_paypal_with_partial_params PASSED [ 70%]
tests/unit/test_payment_factory.py::TestCreatePayPal::test_create_paypal_with_valid_params PASSED [ 70%]
tests/unit/test_payment_factory.py::TestCreatePayPal::test_create_paypal_with_weak_password PASSED [ 70%]
tests/unit/test_payment_factory.py::TestCreatePayPal::test_create_paypal_without_balance PASSED [ 71%]
tests/unit/test_payment_factory.py::TestCreateCrypto::test_create_crypto_with_different_networks PASSED [ 71%]
tests/unit/test_payment_factory.py::TestCreateCrypto::test_create_crypto_with_invalid_wallet_address PASSED [ 71%]
tests/unit/test_payment_factory.py::TestCreateCrypto::test_create_crypto_with_minimal_params PASSED [ 72%]
tests/unit/test_payment_factory.py::TestCreateCrypto::test_create_crypto_with_missing_network PASSED [ 72%]
tests/unit/test_payment_factory.py::TestCreateCrypto::test_create_crypto_with_missing_wallet_address PASSED [ 72%]
tests/unit/test_payment_factory.py::TestCreateCrypto::test_create_crypto_with_valid_params PASSED [ 73%]
tests/unit/test_payment_factory.py::TestUnsupportedPaymentType::test_create_with_empty_payment_type PASSED [ 73%]
tests/unit/test_payment_factory.py::TestUnsupportedPaymentType::test_create_with_invalid_payment_type PASSED [ 73%]
tests/unit/test_payment_factory.py::TestUnsupportedPaymentType::test_create_with_none_payment_type PASSED [ 74%]
tests/unit/test_payment_factory.py::TestUnsupportedPaymentType::test_create_with_wrong_case_payment_type PASSED [ 74%]
tests/unit/test_payment_factory.py::TestConfigurationMethods::test_configure_credit_card_method PASSED [ 74%]
tests/unit/test_payment_factory.py::TestConfigurationMethods::test_configure_credit_card_with_empty_params PASSED [ 75%]
tests/unit/test_payment_factory.py::TestConfigurationMethods::test_configure_crypto_method PASSED [ 75%]
tests/unit/test_payment_factory.py::TestConfigurationMethods::test_configure_crypto_with_empty_params PASSED [ 75%]
tests/unit/test_payment_factory.py::TestConfigurationMethods::test_configure_paypal_method PASSED [ 75%]
tests/unit/test_payment_factory.py::TestConfigurationMethods::test_configure_paypal_with_empty_params PASSED [ 76%]
tests/unit/test_payment_factory.py::TestValidationFlow::test_generic_exception_wrapped_in_validation_error PASSED [ 76%]
tests/unit/test_payment_factory.py::TestValidationFlow::test_validation_error_is_propagated PASSED [ 76%]
tests/unit/test_payment_factory.py::TestValidationFlow::test_validation_is_called_during_creation PASSED [ 77%]
tests/unit/test_payment_factory.py::TestEdgeCases::test_create_credit_card_with_zero_balance PASSED [ 77%]
tests/unit/test_payment_factory.py::TestEdgeCases::test_create_paypal_with_maximum_balance PASSED [ 77%]
tests/unit/test_payment_factory.py::TestEdgeCases::test_create_with_extra_parameters PASSED [ 78%]
tests/unit/test_payment_factory.py::TestEdgeCases::test_create_with_none_values PASSED [ 78%]
tests/unit/test_payment_factory.py::TestFactoryReturnTypes::test_all_payment_types_return_correct_instances PASSED [ 78%]
tests/unit/test_payment_factory.py::TestFactoryReturnTypes::test_create_returns_payment_strategy_interface PASSED [ 79%]
tests/unit/test_payment_processor.py::TestPaymentProcessorSuccess::test_customer_transaction_history_updated PASSED [ 79%]
tests/unit/test_payment_processor.py::TestPaymentProcessorSuccess::test_order_payment_method_set PASSED [ 79%]
tests/unit/test_payment_processor.py::TestPaymentProcessorSuccess::test_order_status_updated PASSED [ 80%]
tests/unit/test_payment_processor.py::TestPaymentProcessorSuccess::test_order_transaction_id_set PASSED [ 80%]
tests/unit/test_payment_processor.py::TestPaymentProcessorSuccess::test_successful_payment PASSED [ 80%]
tests/unit/test_payment_processor.py::TestPaymentProcessorValidation::test_customer_mismatch_raises_error PASSED [ 81%]
tests/unit/test_payment_processor.py::TestPaymentProcessorValidation::test_empty_order_raises_error PASSED [ 81%]
tests/unit/test_payment_processor.py::TestPaymentProcessorValidation::test_non_pending_order_raises_error PASSED [ 81%]
tests/unit/test_payment_processor.py::TestPaymentProcessorPaymentFailures::test_insufficient_balance_raises_error PASSED [ 82%]
tests/unit/test_payment_processor.py::TestPaymentProcessorPaymentFailures::test_invalid_payment_method_raises_error PASSED [ 82%]
tests/unit/test_payment_processor.py::TestPaymentProcessorErrorContext::test_payment_error_includes_order_id PASSED [ 82%]
tests/unit/test_paypal.py::TestEmailValidation::test_invalid_email_empty PASSED [ 83%]
tests/unit/test_paypal.py::TestEmailValidation::test_invalid_email_no_at PASSED [ 83%]
tests/unit/test_paypal.py::TestEmailValidation::test_invalid_email_no_domain PASSED [ 83%]
tests/unit/test_paypal.py::TestEmailValidation::test_invalid_email_no_extension PASSED [ 84%]
tests/unit/test_paypal.py::TestEmailValidation::test_invalid_email_no_username PASSED [ 84%]
tests/unit/test_paypal.py::TestEmailValidation::test_invalid_email_spaces PASSED [ 84%]
tests/unit/test_paypal.py::TestEmailValidation::test_valid_email_simple PASSED [ 85%]
tests/unit/test_paypal.py::TestEmailValidation::test_valid_email_with_dots PASSED [ 85%]
tests/unit/test_paypal.py::TestEmailValidation::test_valid_email_with_numbers PASSED [ 85%]
tests/unit/test_paypal.py::TestEmailValidation::test_valid_email_with_subdomain PASSED [ 86%]
tests/unit/test_paypal.py::TestPasswordValidation::test_invalid_password_empty PASSED [ 86%]
tests/unit/test_paypal.py::TestPasswordValidation::test_invalid_password_no_digits PASSED [ 86%]
tests/unit/test_paypal.py::TestPasswordValidation::test_invalid_password_no_letters PASSED [ 87%]
tests/unit/test_paypal.py::TestPasswordValidation::test_invalid_password_only_spaces PASSED [ 87%]
tests/unit/test_paypal.py::TestPasswordValidation::test_invalid_password_too_short PASSED [ 87%]
tests/unit/test_paypal.py::TestPasswordValidation::test_valid_password_letters_and_digits PASSED [ 87%]
tests/unit/test_paypal.py::TestPasswordValidation::test_valid_password_long PASSED [ 88%]
tests/unit/test_paypal.py::TestPasswordValidation::test_valid_password_minimum_length PASSED [ 88%]
tests/unit/test_paypal.py::TestPasswordValidation::test_valid_password_mixed_case PASSED [ 88%]
tests/unit/test_paypal.py::TestVerifiedValidation::test_invalid_verified_integer PASSED [ 89%]
tests/unit/test_paypal.py::TestVerifiedValidation::test_invalid_verified_none PASSED [ 89%]
tests/unit/test_paypal.py::TestVerifiedValidation::test_invalid_verified_string PASSED [ 89%]
tests/unit/test_paypal.py::TestVerifiedValidation::test_valid_verified_false PASSED [ 90%]
tests/unit/test_paypal.py::TestVerifiedValidation::test_valid_verified_true PASSED [ 90%]
tests/unit/test_paypal.py::TestEmailaddressProperty::test_emailaddress_getter_default_value PASSED [ 90%]
tests/unit/test_paypal.py::TestEmailaddressProperty::test_emailaddress_setter_different_valid_email PASSED [ 91%]
tests/unit/test_paypal.py::TestEmailaddressProperty::test_emailaddress_setter_empty PASSED [ 91%]
tests/unit/test_paypal.py::TestEmailaddressProperty::test_emailaddress_setter_invalid_format PASSED [ 91%]
tests/unit/test_paypal.py::TestEmailaddressProperty::test_emailaddress_setter_no_at_symbol PASSED [ 92%]
tests/unit/test_paypal.py::TestEmailaddressProperty::test_emailaddress_setter_valid_email PASSED [ 92%]
tests/unit/test_paypal.py::TestPasswordtokenProperty::test_passwordtoken_getter_default_value PASSED [ 92%]
tests/unit/test_paypal.py::TestPasswordtokenProperty::test_passwordtoken_setter_different_valid_password PASSED [ 93%]
tests/unit/test_paypal.py::TestPasswordtokenProperty::test_passwordtoken_setter_empty PASSED [ 93%]
tests/unit/test_paypal.py::TestPasswordtokenProperty::test_passwordtoken_setter_invalid_no_digits PASSED [ 93%]
tests/unit/test_paypal.py::TestPasswordtokenProperty::test_passwordtoken_setter_invalid_no_letters PASSED [ 94%]
tests/unit/test_paypal.py::TestPasswordtokenProperty::test_passwordtoken_setter_invalid_too_short PASSED [ 94%]
tests/unit/test_paypal.py::TestPasswordtokenProperty::test_passwordtoken_setter_valid_password PASSED [ 94%]
tests/unit/test_paypal.py::TestVerifiedProperty::test_verified_getter_default_value PASSED [ 95%]
tests/unit/test_paypal.py::TestVerifiedProperty::test_verified_setter_false PASSED [ 95%]
tests/unit/test_paypal.py::TestVerifiedProperty::test_verified_setter_invalid_integer PASSED [ 95%]
tests/unit/test_paypal.py::TestVerifiedProperty::test_verified_setter_invalid_none PASSED [ 96%]
tests/unit/test_paypal.py::TestVerifiedProperty::test_verified_setter_invalid_string PASSED [ 96%]
tests/unit/test_paypal.py::TestVerifiedProperty::test_verified_setter_true PASSED [ 96%]
tests/unit/test_paypal.py::TestValidateMethod::test_validate_all_valid_data PASSED [ 97%]
tests/unit/test_paypal.py::TestValidateMethod::test_validate_empty_email PASSED [ 97%]
tests/unit/test_paypal.py::TestValidateMethod::test_validate_empty_password PASSED [ 97%]
tests/unit/test_paypal.py::TestValidateMethod::test_validate_invalid_email PASSED [ 98%]
tests/unit/test_paypal.py::TestValidateMethod::test_validate_invalid_password PASSED [ 98%]
tests/unit/test_paypal.py::TestValidateMethod::test_validate_invalid_verified_type PASSED [ 98%]
tests/unit/test_user.py::TestCustomerModel::test_creation_and_info PASSED [ 99%]
tests/unit/test_user.py::TestCustomerModel::test_transaction_history_appended PASSED [ 99%]
tests/unit/test_user.py::TestCustomerModel::test_wallet_and_payment PASSED [ 99%]
tests/unit/test_user.py::TestAdminModel::test_admin_workflow PASSED      [100%]

================================ tests coverage ================================
_______________ coverage: platform darwin, python 3.14.0-final-0 _______________

Name                                 Stmts   Miss Branch BrPart  Cover   Missing
--------------------------------------------------------------------------------
src/__init__.py                          0      0      0      0   100%
src/__version__.py                       4      4      0      0     0%   3-6
src/core/__init__.py                     0      0      0      0   100%
src/core/base.py                         9      0      0      0   100%
src/core/exceptions.py                  21      0      0      0   100%
src/main.py                            155    155      2      0     0%   12-275
src/models/__init__.py                   0      0      0      0   100%
src/models/admin.py                     62     23     20      5    54%   90->89, 92, 101->100, 107, 114-121, 127-137, 155-162, 166
src/models/customer.py                 126     34     20      8    71%   26, 88, 93, 103, 108, 113, 118, 123, 128, 133, 138, 143, 148, 153, 165, 173, 202, 204, 207-209, 266-268, 273-274, 276, 282, 284-285, 290-293, 306->exit, 311
src/models/item.py                      46      6      8      4    81%   68, 95, 122, 156, 166, 175
src/models/order.py                     61      2     18      2    95%   14, 110
src/models/user.py                      11      0      0      0   100%
src/order/__init__.py                    0      0      0      0   100%
src/payment/__init__.py                  0      0      0      0   100%
src/payment/methods/__init__.py          0      0      0      0   100%
src/payment/methods/credit_card.py     120      7     36      2    93%   85, 156, 204-208, 375
src/payment/methods/crypto.py          116      6     22      1    93%   35, 140-146, 220-221
src/payment/methods/paypal.py           75     18     18      1    75%   57, 183-191, 207-214
src/services/__init__.py                 0      0      0      0   100%
src/services/payment_factory.py         59      3     30      2    94%   53->55, 58, 104-105
src/services/payment_processor.py       33      0      6      0   100%
src/user/__init__.py                     0      0      0      0   100%
src/utils/__init__.py                    0      0      0      0   100%
src/utils/logger.py                     27      0      0      0   100%
--------------------------------------------------------------------------------
TOTAL                                  925    258    180     25    73%
Coverage HTML written to dir htmlcov
Coverage XML written to file coverage.xml
============================= 308 passed in 0.64s ==============================
